(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(83)},53:function(e,t){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),i=n.n(c),o=n(1),u=n(2),l=n(4),s=n(3),p=n(5),h=n(7),b=n(12),f=n(9),m={currentUser:{},pages:[],wikiPages:[],currentPage:{page:"page-main",title:"Main page"},newsItems:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(console.log("redux actionType: ",t.type),t.type){case"CHANGE_CURRENT_PAGE":return Object(f.a)({},e,{currentPage:t.payload});case"UPDATE_CURRENT_USER":return Object(f.a)({},e,{currentUser:t.payload});case"UPDATE_NEWS":return Object(f.a)({},e,{newsItems:t.payload});case"GET_WIKI_PAGES":return Object(f.a)({},e,{getWikiPages:t.payload});case"GET_PAGES":return Object(f.a)({},e,{pages:t.payload});default:return e}},j="CHANGE_CURRENT_PAGE",d="GET_WIKI_PAGES",O="GET_PAGES",E=function(e){return{type:j,payload:e}},y=function(e){return{type:O,payload:e}},k=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleButtonClick=function(e){return n.props.changeCurrentPage({page:e}),!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"container"},r.a.createElement("button",{className:"link",onClick:function(){e.handleButtonClick("page-main")}},r.a.createElement("h2",null,"Header")),r.a.createElement("button",{className:"link",onClick:function(){e.handleButtonClick("page-dashboard")}},"Dashboard"))}}]),t}(r.a.Component),v=Object(h.b)(function(e){return e},function(e){return{changeCurrentPage:function(t){e(E(t))}}})(k),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"container"},r.a.createElement("h2",null," Footer"))}}]),t}(r.a.Component),w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).changePage=function(e){n.props.changeCurrentPage({page:"page-single",single:"page",data:e})},n.navigation=function(){},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"nav-pages nav-list"},r.a.createElement("h4",null,"Pages"),this.props.pages.map(function(t,n){return r.a.createElement("li",{key:n},r.a.createElement("button",{className:"link",type:"button",onClick:function(){e.changePage(t)}},t.title))}))}}]),t}(r.a.Component),P=Object(h.b)(function(e){return e},function(e){return{changeCurrentPage:function(t){e(E(t))}}})(w),N=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",null,r.a.createElement("h4",null,"Wiki"))}}]),t}(r.a.Component),A=Object(h.b)(function(e){return e})(N),_=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{id:"sidebar",className:"container"},r.a.createElement(P,null),r.a.createElement(A,null))}}]),t}(r.a.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"content"},r.a.createElement("h2",null," Main Page "))}}]),t}(r.a.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"content"},r.a.createElement("h2",null,"Wiki main"))}}]),t}(r.a.Component),W=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"content"},r.a.createElement("h2",null," Dashboard "))}}]),t}(r.a.Component),S=n(34),U=n.n(S),I=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"content"},r.a.createElement("h2",null,"Single page: ",this.props.data.title),console.log("props data: ",this.props.data),U()(this.props.data.content))}}]),t}(r.a.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"content"},r.a.createElement("h2",null," Edit page "))}}]),t}(r.a.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"content"},r.a.createElement("h2",null," Create page "))}}]),t}(r.a.Component),B=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"pageSwitch",value:function(e){switch(e.page){default:return r.a.createElement(G,null);case"page-edit":return r.a.createElement(R,null);case"page-create":return r.a.createElement(D,null);case"page-main":return r.a.createElement(G,null);case"page-wiki":return r.a.createElement(T,null);case"page-dashboard":return r.a.createElement(W,null);case"page-single":return r.a.createElement(I,{data:e.data})}}},{key:"render",value:function(){return r.a.createElement("div",{id:"wrapper"},r.a.createElement(v,null),r.a.createElement(_,null),r.a.createElement("main",{id:"content-wrapper",className:"container"},this.pageSwitch(this.props.currentPage)),r.a.createElement(C,null))}}]),t}(r.a.Component),x=Object(h.b)(function(e){return{currentPage:e.currentPage,pages:e.pages}},function(e){return{getWikiPages:function(t){e({type:d,payload:t})},getPages:function(t){e(y(t))}}})(B),H=Object(b.b)(g);window.store=H;var M=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).fetchPages=function(){fetch("http://localhost/prototype-wp-wiki/wordpress/wp-json/wp/v2/pages").then(function(e){return e.json()}).then(function(e){var t=[];return e.forEach(function(e){var n=[];n.title=e.title.rendered,n.content=e.content.rendered,n.slug=e.slug,n.description=e.excerpt.rendered.replace(/<[^>]+>/g,""),n.id=e.id,n.parent=e.parent,n.order=e.menu_order,t.push(n)}),t}).then(function(e){H.dispatch(y(e))})},n.fetchWikiPages=function(){fetch("http://localhost/prototype-wp-wiki/wiki/api.php?action=query&list=categorymembers&cmtitle=Category:Pages&format=json",{mode:"no-cors",credentials:"include",headers:{"Access-Control-Allow-Credentials":!1,"Access-Control-Allow-Origin":"192.168.2.117:3000",origin:"192.168.2.117:3000"}}).then(function(e){console.log("WikiPages: ",e)})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchPages(),this.fetchWikiPages()}},{key:"render",value:function(){return r.a.createElement(h.a,{store:H},r.a.createElement(x,null))}}]),t}(a.Component);i.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.7efc5f02.chunk.js.map